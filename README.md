# üé¨ Online Cinema API

**FastAPI-–¥–æ–¥–∞—Ç–æ–∫ –¥–ª—è –æ–Ω–ª–∞–π–Ω-–∫—ñ–Ω–æ—Ç–µ–∞—Ç—Ä—É.**  
–î–µ–ø–ª–æ–π –≤–∏–∫–æ–Ω–∞–Ω–æ –Ω–∞ AWS EC2, –¥–æ—Å—Ç—É–ø–Ω–∏–π –∑–∞ –∞–¥—Ä–µ—Å–æ—é:

üëâ **[http://63.180.135.237/docs](http://63.180.135.237/docs)**

---

## üîß –û—Å–Ω–æ–≤–Ω—ñ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó

| –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—è | –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è |
|-------------|--------------|
| **FastAPI** | –ë–µ–∫–µ–Ω–¥ —Ç–∞ OpenAPI-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è |
| **SQLite** | –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö |
| **SQLAlchemy (async)** | ORM |
| **Celery + Redis** | –§–æ–Ω–æ–≤—ñ –∑–∞–¥–∞—á—ñ |
| **Mailhog** | –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –≤—ñ–¥–ø—Ä–∞–≤–∫–∏ email |
| **Docker & Docker Compose** | –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü—ñ—è |
| **Nginx** | –†–µ–≤–µ—Ä—Å-–ø—Ä–æ–∫—Å—ñ –¥–ª—è –¥–æ—Å—Ç—É–ø—É –∑–∑–æ–≤–Ω—ñ |

---

## ‚öôÔ∏è Environment Variables

–°—Ç–≤–æ—Ä–∏ —Ñ–∞–π–ª `.env` —É –∫–æ—Ä–µ–Ω—ñ –ø—Ä–æ—î–∫—Ç—É –∑ —Ç–∞–∫–∏–º –≤–º—ñ—Å—Ç–æ–º:

```bash
DATABASE_URL=sqlite+aiosqlite:///./online_cinema.db
EMAIL_HOST=mailhog
EMAIL_PORT=1025
EMAIL_USE_TLS=False
EMAIL_USER=
EMAIL_PASSWORD=
SECRET_KEY=supersecret
STRIPE_SECRET_KEY=your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=your_stripe_webhook_secret
```
‚ö†Ô∏è–¶–µ–π .env –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —è–∫ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫—É, —Ç–∞–∫ —ñ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É –≤ Docker.

## üöÄ –õ–æ–∫–∞–ª—å–Ω–∏–π –∑–∞–ø—É—Å–∫
```bash
# –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é
git clone https://github.com/msubchak/online-cinema.git

cd online-cinema
# –ó–∞–ø—É—Å–∫ —É—Å—ñ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤
docker compose up --build

```
## Swagger-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –±—É–¥–µ –¥–æ—Å—Ç—É–ø–Ω–∞ –∑–∞ –∞–¥—Ä–µ—Å–æ—é:
```bash
http://localhost:8000/docs
```

## üåç –ü—Ä–æ–¥–∞–∫—à–Ω (AWS)

API —Ä–æ–∑–≥–æ—Ä–Ω—É—Ç–æ —É **Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö** –∑ **Nginx-–ø—Ä–æ–∫—Å—ñ**.

| –ü–æ—Ä—Ç | –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è |
|------|--------------|
| **80** | HTTP-–¥–æ—Å—Ç—É–ø –¥–æ FastAPI —á–µ—Ä–µ–∑ Nginx |
| **8025** | Mailhog (–ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ email-–ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å) |

üìç **Swagger UI (–ø—É–±–ª—ñ—á–Ω–∏–π –¥–æ—Å—Ç—É–ø)**:  
üëâ [http://63.180.135.237/docs](http://63.180.135.237/docs)

---

## üß© –û—Å–Ω–æ–≤–Ω—ñ –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏

| Endpoint | –û–ø–∏—Å |
|-----------|------|
| `/api/v1/accounts/` | –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è, –ª–æ–≥—ñ–Ω, –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ |
| `/api/v1/movies/` | –§—ñ–ª—å–º–∏, –∂–∞–Ω—Ä–∏, –∞–∫—Ç–æ—Ä–∏, —Ä–µ–∂–∏—Å–µ—Ä–∏ |
| `/api/v1/cart/` | –ö–æ—à–∏–∫ |
| `/api/v1/order/` | –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è |
| `/api/v1/payment/` | –û–ø–ª–∞—Ç–∏ |


## üì¶ –°–µ—Ä–≤—ñ—Å–∏ –≤ Docker

| –°–µ—Ä–≤—ñ—Å | –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è |
|---------|--------------|
| **cinema** | FastAPI API |
| **nginx** | HTTP-–ø—Ä–æ–∫—Å—ñ |
| **redis** | –ß–µ—Ä–≥–∞ |
| **celery** | –§–æ–Ω–æ–≤—ñ –∑–∞–¥–∞—á—ñ |
| **mailhog** | –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–æ—à—Ç–∏ |
